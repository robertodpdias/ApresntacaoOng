{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport React, { useState, useEffect } from 'react';\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport View from \"react-native-web/dist/exports/View\";\nimport ScrollView from \"react-native-web/dist/exports/ScrollView\";\nimport Image from \"react-native-web/dist/exports/Image\";\nimport TextInput from \"react-native-web/dist/exports/TextInput\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport ToastAndroid from \"react-native-web/dist/exports/ToastAndroid\";\nimport SafeAreaView from \"react-native-web/dist/exports/SafeAreaView\";\nimport global from \"../../Global/Style\";\nimport SelectMultiple from 'react-native-select-multiple';\nimport { Ionicons, Feather } from '@expo/vector-icons';\nimport AsyncStorage from '@react-native-async-storage/async-storage';\nimport { Picker } from '@react-native-picker/picker';\nimport * as ImagePicker from 'expo-image-picker';\nimport { Camera } from 'expo-camera';\nimport { useFocusEffect } from '@react-navigation/native';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nexport default function CadastrarAssistido(_ref) {\n  var _this = this;\n\n  var navigation = _ref.navigation,\n      route = _ref.route;\n  var newFoto = route.params;\n\n  var _useState = useState([]),\n      _useState2 = _slicedToArray(_useState, 2),\n      selected = _useState2[0],\n      setSelected = _useState2[1];\n\n  var _useState3 = useState([]),\n      _useState4 = _slicedToArray(_useState3, 2),\n      comorbidade = _useState4[0],\n      setComorbidade = _useState4[1];\n\n  var _useState5 = useState([]),\n      _useState6 = _slicedToArray(_useState5, 2),\n      dorgas = _useState6[0],\n      setDorgas = _useState6[1];\n\n  var _useState7 = useState(),\n      _useState8 = _slicedToArray(_useState7, 2),\n      idFunc = _useState8[0],\n      setIdFunc = _useState8[1];\n\n  var _useState9 = useState(\"\"),\n      _useState10 = _slicedToArray(_useState9, 2),\n      nome = _useState10[0],\n      setNome = _useState10[1];\n\n  var _useState11 = useState(\"\"),\n      _useState12 = _slicedToArray(_useState11, 2),\n      nomeSocial = _useState12[0],\n      setNomeSocial = _useState12[1];\n\n  var _useState13 = useState(\"\"),\n      _useState14 = _slicedToArray(_useState13, 2),\n      rg = _useState14[0],\n      setRg = _useState14[1];\n\n  var _useState15 = useState(\"\"),\n      _useState16 = _slicedToArray(_useState15, 2),\n      cpf = _useState16[0],\n      setCpf = _useState16[1];\n\n  var _useState17 = useState(\"\"),\n      _useState18 = _slicedToArray(_useState17, 2),\n      antCriminal = _useState18[0],\n      setAntCriminal = _useState18[1];\n\n  var _useState19 = useState(\"\"),\n      _useState20 = _slicedToArray(_useState19, 2),\n      sexo = _useState20[0],\n      setSexo = _useState20[1];\n\n  var _useState21 = useState(\"\"),\n      _useState22 = _slicedToArray(_useState21, 2),\n      nascimento = _useState22[0],\n      setNascimento = _useState22[1];\n\n  var _useState23 = useState(\"\"),\n      _useState24 = _slicedToArray(_useState23, 2),\n      estdCivil = _useState24[0],\n      setEstdCivil = _useState24[1];\n\n  var _useState25 = useState(\"\"),\n      _useState26 = _slicedToArray(_useState25, 2),\n      naturalidade = _useState26[0],\n      setNaturalidade = _useState26[1];\n\n  var _useState27 = useState(\"\"),\n      _useState28 = _slicedToArray(_useState27, 2),\n      cartCid = _useState28[0],\n      setCartCid = _useState28[1];\n\n  var _useState29 = useState(\"\"),\n      _useState30 = _slicedToArray(_useState29, 2),\n      cartSus = _useState30[0],\n      setCartSus = _useState30[1];\n\n  var _useState31 = useState(\"\"),\n      _useState32 = _slicedToArray(_useState31, 2),\n      foto = _useState32[0],\n      setFoto = _useState32[1];\n\n  var _useState33 = useState(Camera.Constants.Type.back),\n      _useState34 = _slicedToArray(_useState33, 2),\n      type = _useState34[0],\n      setType = _useState34[1];\n\n  var _useState35 = useState(null),\n      _useState36 = _slicedToArray(_useState35, 2),\n      permissao = _useState36[0],\n      setPermissao = _useState36[1];\n\n  onSelectionsChange = function onSelectionsChange(selected) {\n    setSelected(selected);\n  };\n\n  var getFunc = function getFunc() {\n    var value, id;\n    return _regeneratorRuntime.async(function getFunc$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            _context.next = 2;\n            return _regeneratorRuntime.awrap(AsyncStorage.getItem('userdata'));\n\n          case 2:\n            value = _context.sent;\n            id = JSON.parse(value);\n            setIdFunc(id.id_funcionario);\n\n          case 5:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, null, null, null, Promise);\n  };\n\n  var cadastrar = function cadastrar() {\n    var ano = nascimento.split('/')[2];\n    var mes = nascimento.split('/')[1];\n    var dia = nascimento.split('/')[0];\n    var assistido = {\n      id_funcionario: idFunc,\n      nome_completo: nome,\n      nome_social: nomeSocial,\n      rg: rg,\n      cpf: cpf,\n      antecedente_criminal: antCriminal,\n      data_nascimento: ano + \"-\" + mes + \"-\" + dia,\n      estado_civil: estdCivil,\n      naturalidade: naturalidade,\n      sexo: sexo,\n      cartao_cidadao: cartCid,\n      cartao_sus: cartSus,\n      foto: foto\n    };\n    fetch(\"http://192.168.0.103:3000/assistidos\", {\n      \"method\": \"POST\",\n      \"headers\": {\n        \"Content-Type\": \"application/json\"\n      },\n      \"body\": JSON.stringify(assistido)\n    }).then(function (resp) {\n      return resp.json();\n    }).then(function _callee2(data) {\n      var saude;\n      return _regeneratorRuntime.async(function _callee2$(_context3) {\n        while (1) {\n          switch (_context3.prev = _context3.next) {\n            case 0:\n              if (data.err !== undefined) {\n                if (data.err.includes(\"Duplicate entry\")) ToastAndroid.show('CPF já existente!', ToastAndroid.SHORT);\n              } else {\n                saude = {\n                  id_assistido: data.id_assistido,\n                  comorbidades: selected\n                };\n                fetch(\"http://192.168.0.103:3000/assistido/saude\", {\n                  \"method\": \"POST\",\n                  \"headers\": {\n                    \"Content-Type\": \"application/json\"\n                  },\n                  \"body\": JSON.stringify(saude)\n                }).then(function (resp) {\n                  return resp.json();\n                }).then(function _callee(data) {\n                  return _regeneratorRuntime.async(function _callee$(_context2) {\n                    while (1) {\n                      switch (_context2.prev = _context2.next) {\n                        case 0:\n                          if (data.err !== undefined) {\n                            console.log(data);\n                          } else {\n                            ToastAndroid.show('Cadastro Efetuado!', ToastAndroid.SHORT);\n\n                            _this.textInput.clear();\n                          }\n\n                        case 1:\n                        case \"end\":\n                          return _context2.stop();\n                      }\n                    }\n                  }, null, null, null, Promise);\n                });\n              }\n\n            case 1:\n            case \"end\":\n              return _context3.stop();\n          }\n        }\n      }, null, null, null, Promise);\n    }).catch(function (err) {\n      console.log(err);\n    });\n  };\n\n  var renderLabel = function renderLabel(label, style) {\n    return _jsx(View, {\n      style: {\n        flexDirection: 'row',\n        alignItems: 'center'\n      },\n      children: _jsx(View, {\n        style: {\n          marginLeft: 5\n        },\n        children: _jsx(Text, {\n          style: {\n            fontSize: 15,\n            fontWeight: 'bold'\n          },\n          children: label\n        })\n      })\n    });\n  };\n\n  useEffect(function () {\n    fetch(\"http://192.168.0.103:3000/assistido/comorbidade\").then(function (resp) {\n      return resp.json();\n    }).then(function _callee3(data) {\n      var temp, tempC, tempD;\n      return _regeneratorRuntime.async(function _callee3$(_context4) {\n        while (1) {\n          switch (_context4.prev = _context4.next) {\n            case 0:\n              temp = JSON.stringify(data);\n              temp = temp.replace(/id_comorbidade/g, \"value\");\n              temp = temp.replace(/comorbidade/g, \"label\");\n              temp = JSON.parse(temp);\n              tempC = [], tempD = [];\n              temp.forEach(function (item) {\n                if (item.tipo == 1) {\n                  tempC.push(item);\n                } else {\n                  tempD.push(item);\n                }\n              });\n              setComorbidade(tempC);\n              setDorgas(tempD);\n\n            case 8:\n            case \"end\":\n              return _context4.stop();\n          }\n        }\n      }, null, null, null, Promise);\n    }).catch(function (err) {\n      console.log(err);\n    });\n  }, []);\n  useFocusEffect(React.useCallback(function () {\n    if (newFoto !== null) setFoto(newFoto);\n    console.log(newFoto);\n  }, []));\n  return _jsxs(View, {\n    style: global.body,\n    onLoad: getFunc(),\n    children: [_jsxs(View, {\n      style: global.header,\n      children: [_jsx(Ionicons, {\n        name: \"arrow-back-circle-outline\",\n        style: {\n          marginLeft: 5\n        },\n        size: 35,\n        color: \"#166B8A\",\n        onPress: function onPress() {\n          navigation.navigate('Assistido');\n        }\n      }), _jsxs(View, {\n        style: global.cardTitle,\n        children: [_jsx(Text, {\n          style: global.textTitle,\n          children: \"Casa Acolhedora\"\n        }), _jsx(Text, {\n          style: global.textTitle,\n          children: \"Irm\\xE3 Ant\\xF4nia\"\n        })]\n      })]\n    }), _jsx(View, {\n      style: global.scroll,\n      children: _jsxs(ScrollView, {\n        children: [_jsx(Text, {\n          style: css.title1,\n          children: \"Dados Pessoais\"\n        }), _jsx(TextInput, {\n          value: nome,\n          onChangeText: setNome,\n          placeholder: \"Nome...\",\n          place: true,\n          style: global.info\n        }), _jsx(TextInput, {\n          value: nomeSocial,\n          onChangeText: setNomeSocial,\n          placeholder: \"Nome social...\",\n          place: true,\n          style: global.info\n        }), _jsx(TextInput, {\n          value: rg,\n          onChangeText: setRg,\n          placeholder: \"RG...\",\n          style: global.info\n        }), _jsx(TextInput, {\n          value: cpf,\n          onChangeText: setCpf,\n          placeholder: \"CPF...\",\n          style: global.info\n        }), _jsx(TextInput, {\n          value: antCriminal,\n          onChangeText: setAntCriminal,\n          placeholder: \"Antecedente criminal...\",\n          style: global.info\n        }), _jsx(View, {\n          style: {\n            width: \"80%\",\n            alignSelf: \"center\",\n            borderBottomWidth: 2\n          },\n          children: _jsxs(Picker, {\n            selectedValue: sexo,\n            onValueChange: function onValueChange(itemValue, itemIndex) {\n              return setSexo(itemValue);\n            },\n            children: [_jsx(Picker.Item, {\n              label: \"Sexo...\",\n              value: \"\",\n              style: {\n                color: \"gray\"\n              }\n            }), _jsx(Picker.Item, {\n              label: \"Feminino\",\n              value: \"Feminino\"\n            }), _jsx(Picker.Item, {\n              label: \"Masculino\",\n              value: \"Masculino\"\n            }), _jsx(Picker.Item, {\n              label: \"Outro\",\n              value: \"Outro\"\n            })]\n          })\n        }), _jsx(TextInput, {\n          value: nascimento,\n          onChangeText: setNascimento,\n          placeholder: \"Nascimento...\",\n          style: global.info\n        }), _jsx(TextInput, {\n          value: estdCivil,\n          onChangeText: setEstdCivil,\n          placeholder: \"Estado civil...\",\n          style: global.info\n        }), _jsx(TextInput, {\n          value: naturalidade,\n          onChangeText: setNaturalidade,\n          placeholder: \"Naturalidade...\",\n          style: global.info\n        }), _jsx(TextInput, {\n          value: cartCid,\n          onChangeText: setCartCid,\n          placeholder: \"Cart\\xE3o cidad\\xE3o...\",\n          style: global.info\n        }), _jsx(TextInput, {\n          value: cartSus,\n          onChangeText: setCartSus,\n          placeholder: \"Cart\\xE3o do SUS...\",\n          style: global.info\n        }), _jsx(Text, {\n          style: css.title1,\n          children: \"Doen\\xE7as\"\n        }), _jsx(View, {\n          style: {\n            flex: 1,\n            width: '90%',\n            height: 100,\n            alignItems: \"center\",\n            alignSelf: \"center\"\n          },\n          children: _jsx(SelectMultiple, {\n            items: comorbidade,\n            renderLabel: renderLabel,\n            selectedItems: selected,\n            onSelectionsChange: onSelectionsChange\n          })\n        }), _jsx(Text, {\n          style: css.title2,\n          children: \"Psicoativos\"\n        }), _jsx(View, {\n          style: css.select,\n          children: _jsx(SelectMultiple, {\n            items: dorgas,\n            renderLabel: renderLabel,\n            selectedItems: selected,\n            onSelectionsChange: onSelectionsChange\n          })\n        }), _jsxs(View, {\n          style: css.align,\n          children: [_jsx(Image, {\n            source: foto === null || foto === undefined ? require(\"../../assets/user1.png\") : foto,\n            style: global.imageUser\n          }), _jsxs(TouchableOpacity, {\n            style: css.alignIcon,\n            onPress: function onPress() {\n              navigation.navigate(\"TelaCamera\");\n            },\n            children: [_jsx(Feather, {\n              name: \"camera\",\n              size: 24,\n              color: \"blue\",\n              style: {\n                marginRight: 10\n              }\n            }), _jsx(Text, {\n              style: {\n                color: \"blue\",\n                fontSize: 15,\n                fontWeight: \"bold\"\n              },\n              children: \"Nova foto\"\n            })]\n          })]\n        }), _jsx(TouchableOpacity, {\n          style: global.cardButton1,\n          onPress: function onPress() {\n            cadastrar();\n          },\n          children: _jsx(Text, {\n            style: global.buttonText1,\n            children: \"SALVAR\"\n          })\n        })]\n      })\n    })]\n  });\n}\nvar css = StyleSheet.create({\n  title1: {\n    alignSelf: \"center\",\n    fontSize: 20,\n    fontWeight: \"bold\",\n    color: \"black\",\n    marginTop: \"5%\"\n  },\n  title2: {\n    alignSelf: \"center\",\n    fontSize: 20,\n    fontWeight: \"bold\",\n    color: \"black\",\n    marginBottom: \"5%\"\n  },\n  align: {\n    width: \"80%\",\n    height: 150,\n    flexDirection: \"row\",\n    alignItems: \"center\",\n    justifyContent: \"space-evenly\",\n    alignSelf: \"center\"\n  },\n  alignIcon: {\n    alignItems: \"center\",\n    flexDirection: \"row\",\n    marginBottom: \"10%\"\n  },\n  select: {\n    flex: 1,\n    width: '85%',\n    height: 50,\n    alignItems: \"center\",\n    alignSelf: \"center\"\n  }\n});","map":{"version":3,"sources":["C:/Users/jaque/Desktop/SENAI/ONG/Mobile/pages/Assistidos/CadastrarAssistido/Index.js"],"names":["React","useState","useEffect","global","SelectMultiple","Ionicons","Feather","AsyncStorage","Picker","ImagePicker","Camera","useFocusEffect","CadastrarAssistido","navigation","route","newFoto","params","selected","setSelected","comorbidade","setComorbidade","dorgas","setDorgas","idFunc","setIdFunc","nome","setNome","nomeSocial","setNomeSocial","rg","setRg","cpf","setCpf","antCriminal","setAntCriminal","sexo","setSexo","nascimento","setNascimento","estdCivil","setEstdCivil","naturalidade","setNaturalidade","cartCid","setCartCid","cartSus","setCartSus","foto","setFoto","Constants","Type","back","type","setType","permissao","setPermissao","onSelectionsChange","getFunc","getItem","value","id","JSON","parse","id_funcionario","cadastrar","ano","split","mes","dia","assistido","nome_completo","nome_social","antecedente_criminal","data_nascimento","estado_civil","cartao_cidadao","cartao_sus","fetch","stringify","then","resp","json","data","err","undefined","includes","ToastAndroid","show","SHORT","saude","id_assistido","comorbidades","console","log","textInput","clear","catch","renderLabel","label","style","flexDirection","alignItems","marginLeft","fontSize","fontWeight","temp","replace","tempC","tempD","forEach","item","tipo","push","useCallback","body","header","navigate","cardTitle","textTitle","scroll","css","title1","info","width","alignSelf","borderBottomWidth","itemValue","itemIndex","color","flex","height","title2","select","align","require","imageUser","alignIcon","marginRight","cardButton1","buttonText1","StyleSheet","create","marginTop","marginBottom","justifyContent"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { StyleSheet, View, ScrollView, Image, TextInput, Text, TouchableOpacity, ToastAndroid, SafeAreaView} from 'react-native';\r\n\r\nimport global from \"../../Global/Style\"\r\nimport SelectMultiple from 'react-native-select-multiple'\r\nimport { Ionicons, Feather} from '@expo/vector-icons';\r\nimport AsyncStorage from '@react-native-async-storage/async-storage';\r\nimport {Picker} from '@react-native-picker/picker';\r\nimport * as ImagePicker from 'expo-image-picker';\r\nimport { Camera } from 'expo-camera';\r\nimport { useFocusEffect } from '@react-navigation/native';\r\n\r\nexport default function CadastrarAssistido({navigation, route}){\r\n    const newFoto = route.params;\r\n\r\n    const[selected, setSelected] = useState([]);\r\n    const[comorbidade, setComorbidade] = useState([]);\r\n    const[dorgas, setDorgas] = useState([]);\r\n    const[idFunc, setIdFunc] = useState();\r\n    const[nome, setNome] = useState(\"\");\r\n    const[nomeSocial, setNomeSocial] = useState(\"\");\r\n    const[rg, setRg] = useState(\"\");\r\n    const[cpf, setCpf] = useState(\"\");\r\n    const[antCriminal, setAntCriminal] = useState(\"\");\r\n    const[sexo,setSexo] = useState(\"\");\r\n    const[nascimento, setNascimento] = useState(\"\");\r\n    const[estdCivil, setEstdCivil] = useState(\"\");\r\n    const[naturalidade, setNaturalidade] = useState(\"\");\r\n    const[cartCid, setCartCid] = useState(\"\");\r\n    const[cartSus, setCartSus] = useState(\"\");\r\n    const[foto, setFoto] = useState(\"\");\r\n    const[type, setType] = useState(Camera.Constants.Type.back);\r\n    const[permissao, setPermissao] = useState(null);\r\n\r\n    onSelectionsChange = (selected) => {\r\n        setSelected(selected);\r\n    }\r\n\r\n    const getFunc =  async() => {\r\n        let value = await AsyncStorage.getItem('userdata');\r\n        let id = JSON.parse(value)\r\n        setIdFunc(id.id_funcionario)\r\n    }\r\n\r\n    const cadastrar = () => {\r\n        let ano = nascimento.split('/')[2]\r\n        let mes = nascimento.split('/')[1]\r\n        let dia = nascimento.split('/')[0]\r\n        \r\n        let assistido = {\r\n            id_funcionario: idFunc,\r\n            nome_completo: nome,\r\n            nome_social: nomeSocial,\r\n            rg: rg,\r\n            cpf: cpf,\r\n            antecedente_criminal: antCriminal,\r\n            data_nascimento: `${ano}-${mes}-${dia}`,\r\n            estado_civil: estdCivil,\r\n            naturalidade: naturalidade,\r\n            sexo: sexo,\r\n            cartao_cidadao: cartCid,\r\n            cartao_sus: cartSus,\r\n            foto: foto\r\n        }\r\n    \r\n        // fetch(`http://10.87.207.27:3000/assistidos`, {\r\n        fetch(`http://192.168.0.103:3000/assistidos`, {\r\n          \"method\": \"POST\",\r\n          \"headers\": {\r\n              \"Content-Type\": \"application/json\"\r\n          },\r\n          \"body\": JSON.stringify(assistido),\r\n        })\r\n        .then(resp => {return resp.json()})\r\n        .then(async data => {\r\n            if(data.err !== undefined) {\r\n                if(data.err.includes(\"Duplicate entry\"))\r\n                    ToastAndroid.show('CPF já existente!', ToastAndroid.SHORT)\r\n            } else {\r\n                let saude = {\r\n                    id_assistido: data.id_assistido,\r\n                    comorbidades: selected\r\n                }\r\n\r\n                // fetch(`http://10.87.207.27:3000/assistido/saude`, {\r\n                    fetch(`http://192.168.0.103:3000/assistido/saude`, {\r\n                    \"method\": \"POST\",\r\n                    \"headers\": {\r\n                        \"Content-Type\": \"application/json\"\r\n                    },\r\n                    \"body\": JSON.stringify(saude),\r\n                })\r\n                .then(resp => {return resp.json()})\r\n                .then(async data => {\r\n                    if(data.err !== undefined) {\r\n                        console.log(data)\r\n                    }else{\r\n                        ToastAndroid.show('Cadastro Efetuado!', ToastAndroid.SHORT)\r\n                        this.textInput.clear()\r\n                    }\r\n                })\r\n            }\r\n        })\r\n        .catch(err => {\r\n            console.log(err) \r\n        });\r\n      }\r\n\r\n      const renderLabel = (label, style) => {\r\n        return (\r\n          <View style={{flexDirection: 'row', alignItems: 'center'}}>\r\n            <View style={{marginLeft: 5}}>\r\n              <Text style={{fontSize: 15, fontWeight: 'bold'}}>{label}</Text>\r\n            </View>\r\n          </View>\r\n        )\r\n      }\r\n\r\n      useEffect(() => { \r\n        // fetch(`http://10.87.207.27:3000/assistido/comorbidade`)\r\n        fetch(`http://192.168.0.103:3000/assistido/comorbidade`)\r\n        .then(resp => {return resp.json()})\r\n        .then(async data => {\r\n            let temp = JSON.stringify(data);\r\n            temp = temp.replace(/id_comorbidade/g, \"value\");\r\n            temp = temp.replace(/comorbidade/g, \"label\");\r\n            temp = JSON.parse(temp);\r\n\r\n            let tempC = [], tempD = [];\r\n\r\n            temp.forEach(item => {\r\n                if(item.tipo == 1) {\r\n                    tempC.push(item);\r\n                }else {\r\n                    tempD.push(item);\r\n                }\r\n            })\r\n            \r\n            setComorbidade(tempC);\r\n            setDorgas(tempD);\r\n        })\r\n        .catch(err => { console.log(err) });\r\n      }, [])\r\n\r\n      useFocusEffect(\r\n        React.useCallback(() => {\r\n            if(newFoto !== null) setFoto(newFoto);  \r\n            console.log(newFoto);\r\n        }, [])\r\n      );\r\n    //   const selecionarImagem = async () => {\r\n    //     // let result = await ImagePicker.launchImageLibraryAsync({\r\n    //     //     mediaTypes: ImagePicker.MediaTypeOptions.All,\r\n    //     //     allowsEditing: true,\r\n    //     //     aspect: [4, 3],\r\n    //     //     quality: 1,\r\n    //     //     base64: true\r\n    //     // // });\r\n        \r\n    //     let item = newFoto.split(\".\")\r\n\r\n    //     // console.log(item)\r\n        \r\n    //     if (newFoto.length > 0) {\r\n    //         setFoto({\r\n    //             // uri: 'data:image/jpeg;base64,' + result.base64,\r\n    //             uri: `data:image/${item[item.length-1]};base64,`+newFoto\r\n    //         })\r\n    //     } else if(!result.cancelled) {\r\n    //         ToastAndroid.show('Selecione uma imagem menor', ToastAndroid.SHORT);\r\n    //     }\r\n    // }\r\n\r\n    return(\r\n        <View style={global.body} onLoad={getFunc()}>\r\n            <View style={global.header}>\r\n                <Ionicons name=\"arrow-back-circle-outline\" style={{marginLeft: 5}} size={35} color=\"#166B8A\" onPress={() => {navigation.navigate('Assistido')}} />\r\n                <View style={global.cardTitle}>\r\n                    <Text style={global.textTitle}>Casa Acolhedora</Text>\r\n                    <Text style={global.textTitle}>Irmã Antônia</Text>\r\n                </View>\r\n            </View>\r\n            <View style={global.scroll}>\r\n                <ScrollView>\r\n                    <Text style={css.title1}>Dados Pessoais</Text>\r\n                    <TextInput value={nome} onChangeText={setNome} placeholder=\"Nome...\" place style={global.info}></TextInput>\r\n                    <TextInput value={nomeSocial} onChangeText={setNomeSocial} placeholder=\"Nome social...\" place style={global.info}></TextInput>\r\n                    <TextInput value={rg} onChangeText={setRg} placeholder=\"RG...\" style={global.info}></TextInput>\r\n                    <TextInput value={cpf} onChangeText={setCpf} placeholder=\"CPF...\" style={global.info}></TextInput>\r\n                    <TextInput value={antCriminal} onChangeText={setAntCriminal} placeholder=\"Antecedente criminal...\" style={global.info}></TextInput>\r\n                    <View style={{width: \"80%\", alignSelf: \"center\", borderBottomWidth: 2}}>\r\n                        <Picker\r\n                            selectedValue={sexo}\r\n                            onValueChange={(itemValue, itemIndex) =>\r\n                                setSexo(itemValue)\r\n                        }>\r\n                            <Picker.Item label=\"Sexo...\" value=\"\" style={{color: \"gray\"}}/>\r\n                            <Picker.Item label=\"Feminino\" value=\"Feminino\" />\r\n                            <Picker.Item label=\"Masculino\" value=\"Masculino\" />\r\n                            <Picker.Item label=\"Outro\" value=\"Outro\" />\r\n                        </Picker>\r\n                    </View>\r\n                    <TextInput value={nascimento} onChangeText={setNascimento} placeholder=\"Nascimento...\" style={global.info}></TextInput>\r\n                    <TextInput value={estdCivil} onChangeText={setEstdCivil} placeholder=\"Estado civil...\" style={global.info}></TextInput>\r\n                    <TextInput value={naturalidade} onChangeText={setNaturalidade} placeholder=\"Naturalidade...\" style={global.info}></TextInput>\r\n                    <TextInput value={cartCid} onChangeText={setCartCid} placeholder=\"Cartão cidadão...\" style={global.info}></TextInput>\r\n                    <TextInput value={cartSus} onChangeText={setCartSus} placeholder=\"Cartão do SUS...\" style={global.info}></TextInput>\r\n                    <Text style={css.title1}>Doenças</Text>\r\n                    <View style={{flex: 1, width: '90%', height: 100, alignItems: \"center\", alignSelf: \"center\"}}>\r\n                            <SelectMultiple\r\n                                items={comorbidade}\r\n                                renderLabel={renderLabel}\r\n                                selectedItems={selected}\r\n                                onSelectionsChange={onSelectionsChange}\r\n                                />\r\n                    </View>\r\n                    <Text style={css.title2}>Psicoativos</Text>\r\n                    <View style={css.select}>\r\n                            <SelectMultiple\r\n                                items={dorgas}\r\n                                renderLabel={renderLabel}\r\n                                selectedItems={selected}\r\n                                onSelectionsChange={onSelectionsChange}\r\n                                />\r\n                    </View>\r\n                    <View style={css.align}>\r\n                        <Image source={( foto === null || foto === undefined) ? require(\"../../assets/user1.png\") : foto} style={global.imageUser}/>\r\n                        {}\r\n                        {/* <TouchableOpacity style={css.alignIcon} onPress={() => {selecionarImagem()}}> */}\r\n                        <TouchableOpacity style={css.alignIcon} onPress={() => {navigation.navigate(\"TelaCamera\")}}>\r\n                            <Feather name=\"camera\" size={24} color=\"blue\" style={{marginRight: 10}}/>\r\n                            <Text style={{color: \"blue\", fontSize: 15, fontWeight: \"bold\"}}>Nova foto</Text>\r\n                        </TouchableOpacity>\r\n                    </View>\r\n                    <TouchableOpacity style={global.cardButton1} onPress={() => {cadastrar()}}>\r\n                        <Text style={global.buttonText1}>SALVAR</Text>\r\n                    </TouchableOpacity>\r\n                </ScrollView>\r\n            </View>\r\n        </View>\r\n    )\r\n}\r\n\r\nconst css = StyleSheet.create({\r\n    title1:{\r\n        alignSelf: \"center\",\r\n        fontSize: 20,\r\n        fontWeight: \"bold\",\r\n        color: \"black\",\r\n        marginTop: \"5%\"\r\n    },\r\n    title2:{\r\n        alignSelf: \"center\",\r\n        fontSize: 20,\r\n        fontWeight: \"bold\",\r\n        color: \"black\",\r\n        marginBottom: \"5%\"\r\n    },\r\n    align: {\r\n        width: \"80%\",\r\n        height: 150,\r\n        flexDirection: \"row\",\r\n        alignItems: \"center\",\r\n        justifyContent: \"space-evenly\",\r\n        alignSelf: \"center\"\r\n    },\r\n    alignIcon: {\r\n        alignItems: \"center\",\r\n        flexDirection: \"row\",\r\n        marginBottom: \"10%\"\r\n    },\r\n    select: {\r\n        flex: 1,\r\n        width: '85%',\r\n        height: 50,\r\n        alignItems: \"center\",\r\n        alignSelf: \"center\"\r\n    }\r\n})"]},"metadata":{},"sourceType":"module"}